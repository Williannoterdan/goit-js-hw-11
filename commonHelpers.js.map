{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\n\nexport default function fetchImage(text) {\n  if (text.length > 0) {\n    let date = fetch(\n      `https://pixabay.com/api/?key=41882079-7b8447de07a92fa31409d09e7&q=\"${text}\"&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n      .then(response => {\n        document.body;\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response.json();\n      })\n    \n    return date;\n  }\n  else {\n    iziToast.error({\n      title: '❌',\n      message: `Ned word`,\n    });\n  }\n}\n","\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport default function renderImage(imagesResorch, gallery) {\n  imagesResorch.then(response => {\n    let images = response.hits;\n    if (images.length < 1) {\n      iziToast.error({\n        title: '❌',\n        message: `Rejected`,\n      });\n    }\n    let galeryHtml = images\n      .map(\n        x =>\n          `<li class=\"gallery\" onclick=\"return false\" >\n                      <div class=\"loader position\"></div>      \n                    <a class=\"gallery-link\" href=\"${x.largeImageURL}\" > \n                    <img                      \n              class=\"gallery-off\"\n              src=\"${x.largeImageURL}\"\n              date-largeiimmage=\"${x.largeImageURL}\"\n              alt=\"${x.tags}\"\n                    />\n   \n                     <div class=\"desription gallery-off\">\n                          <div>\n                             <p class=\"detal-description\">Likes</p>\n                             <p class=\"detal-namber\">${x.likes}</p>\n                          </div>\n                          <div>\n                              <p class=\"detal-description\">Views</p>\n                              <p class=\"detal-namber\">${x.views}</p>\n                          </div>\n                          <div>\n                              <p class=\"detal-description\">Comments</p>\n                              <p class=\"detal-namber\">${x.views}</p>\n\n                          </div>\n                          <div>\n                              <p class=\"detal-description\">Downloads</p>\n                              <p class=\"detal-namber\">${x.downloads}</p>\n                          </div>\n                        </div>\n                  </a>\n                </li>`\n      )\n      .join('');\n    gallery.insertAdjacentHTML('afterbegin', galeryHtml);\n    let imgControl = document.querySelectorAll('img');\n    let loadControl = document.querySelectorAll('.loader');\n        let descControl = document.querySelectorAll('.desription');\n    let counter = 0;\n    for (const img of imgControl) { \n         img.onload = function () {\n           counter += 1;\n           console.log(counter);\n               if (counter == 20) {\n                 console.log('Finish loaded');\n                 for (const load of loadControl) {\n                   load.removeAttribute('class');\n                   \n                 }\n                 for (const desc of descControl) {\n                   desc.removeAttribute(\"class\")\n                              desc.setAttribute('class', 'desription');\n                 }\n                 for (const img of imgControl) {\n                                    img.removeAttribute('class');\n                   img.setAttribute('class', 'gallery-image');\n                   \n                 }\n\n                 console.log(img.attributes);\n               }\n      };     \n    }\n  });\n}\n","\nimport fetchImage from './js/pixabay-api';\nimport renderImage from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst search = document.querySelector('button[data-search]');\nconst texSearch = document.querySelector('input[data-search]');\nconst gallery = document.querySelector('ul[data-galery]');\nsearch.addEventListener('click', () => {\n  gallery.innerHTML = '';\n  renderImage(fetchImage(texSearch.value), gallery);\n  \n\n    window.onload = function () {\n      console.log('Loaded1');\n    };  \n});\n    window.onload = function () {\n      console.log(\"Loaded2\");\n    };\ndocument.addEventListener('click', event => {\n    window.onload = function () {\n      console.log('Loaded3');\n    };\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\n});\n\n\n"],"names":["fetchImage","text","response","iziToast","renderImage","imagesResorch","gallery","images","galeryHtml","x","imgControl","loadControl","descControl","counter","img","load","desc","search","texSearch","event","SimpleLightbox"],"mappings":"6vBAGe,SAASA,EAAWC,EAAM,CACvC,GAAIA,EAAK,OAAS,EAahB,OAZW,MACT,sEAAsEA,CAAI,2DAC3E,EACE,KAAKC,GAAY,CAEhB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACxB,CAAO,EAKHC,EAAS,MAAM,CACb,MAAO,IACP,QAAS,UACf,CAAK,CAEL,CCtBe,SAASC,EAAYC,EAAeC,EAAS,CAC1DD,EAAc,KAAKH,GAAY,CAC7B,IAAIK,EAASL,EAAS,KAClBK,EAAO,OAAS,GAClB,SAAS,MAAM,CACb,MAAO,IACP,QAAS,UACjB,CAAO,EAEH,IAAIC,EAAaD,EACd,IACCE,GACE;AAAA;AAAA,oDAE0CA,EAAE,aAAa;AAAA;AAAA;AAAA,qBAG9CA,EAAE,aAAa;AAAA,mCACDA,EAAE,aAAa;AAAA,qBAC7BA,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAM4BA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,wDAINA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,wDAIPA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,wDAKPA,EAAE,SAAS;AAAA;AAAA;AAAA;AAAA,sBAK5D,EACA,KAAK,EAAE,EACVH,EAAQ,mBAAmB,aAAcE,CAAU,EACnD,IAAIE,EAAa,SAAS,iBAAiB,KAAK,EAC5CC,EAAc,SAAS,iBAAiB,SAAS,EAC7CC,EAAc,SAAS,iBAAiB,aAAa,EACzDC,EAAU,EACd,UAAWC,KAAOJ,EACbI,EAAI,OAAS,UAAY,CAGnB,GAFJD,GAAW,EACX,QAAQ,IAAIA,CAAO,EACXA,GAAW,GAAI,CACjB,QAAQ,IAAI,eAAe,EAC3B,UAAWE,KAAQJ,EACjBI,EAAK,gBAAgB,OAAO,EAG9B,UAAWC,KAAQJ,EACjBI,EAAK,gBAAgB,OAAO,EACjBA,EAAK,aAAa,QAAS,YAAY,EAEpD,UAAWF,KAAOJ,EACCI,EAAI,gBAAgB,OAAO,EAC5CA,EAAI,aAAa,QAAS,eAAe,EAI3C,QAAQ,IAAIA,EAAI,UAAU,CAC3B,CAChB,CAEA,CAAG,CACH,CCxEA,MAAMG,EAAS,SAAS,cAAc,qBAAqB,EACrDC,EAAY,SAAS,cAAc,oBAAoB,EACvDZ,EAAU,SAAS,cAAc,iBAAiB,EACxDW,EAAO,iBAAiB,QAAS,IAAM,CACrCX,EAAQ,UAAY,GACpBF,EAAYJ,EAAWkB,EAAU,KAAK,EAAGZ,CAAO,EAG9C,OAAO,OAAS,UAAY,CAC1B,QAAQ,IAAI,SAAS,CAC3B,CACA,CAAC,EACG,OAAO,OAAS,UAAY,CAC1B,QAAQ,IAAI,SAAS,CAC3B,EACA,SAAS,iBAAiB,QAASa,GAAS,CACxC,OAAO,OAAS,UAAY,CAC1B,QAAQ,IAAI,SAAS,CAC3B,EAEiB,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,aAAc,GAChB,CAAC,CAGD,CAAC"}